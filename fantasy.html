<HTML>
<HEAD>
<meta charset="UTF-8"/>
 <TITLE>Moja filmoteka</TITLE>
 <LINK REL=stylesheet TYPE="text/css" HREF="style.css">
 <link rel="stylesheet" type="text/css" href="comments.css">
 <link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
</HEAD>
<BODY>
	<CENTER>
		<TABLE BORDER="1">
			<TR HEIGHT="30">
				<TH CLASS="purple" WIDTH="120"><a href="home.php">Główna</A></TH>
				<TH CLASS="purple" WIDTH="120"><a href="horrory.html">Horrory</A></TH>
				<TH CLASS="purple" WIDTH="120"><a href="komedie.html">Komedie</A></TH>
				<TH CLASS="purple" WIDTH="120"><a href="thrillery.html">Thrillery</A></TH>
				<TH CLASS="purple" WIDTH="120"><a href="historyczne.html">Historyczne</A></TH>
				<TH CLASS="purple" WIDTH="120"><a href="fantasy.html">Fantasy</A></TH>
				<TH CLASS="purple" WIDTH="120"><a href="sci-fi.html">Sci-Fi</A></TH>
			</TR>
		</TABLE>
	</CENTER>
<div id="container">
	<p>Filmy fantasy osadzone są w fantasycznym świecie. Pobudzają wyobraźnię i trzymają w napięciu. Nasza lista:</p>
	
	
	<div class="rectangle">
		<div class="title">
			IT Dreams
		</div>
		<div class="photo">
			<img src="it_dreams.png" alt="IT Dreams - Zdać informatykę" width=194px height=259px	>
		</div>
		<div class="description">
			<p>Film ten opowiada o dwóch młodych chłopakach - Piotrze i Radosławie, których marzeniem jest zdać studia z informatyki. Po drodze mierzą się z wieloma wyzwaniami, które kształtują ich myślenie i uczą życia w branży. Pewnego dnia stają przed poważnym zadaniem - napisaniem strony internetowej...</p>
				<button class="pushable">
					<span class="front">
						<a href="https://www.google.com/" target="_blank">Czytaj więcej</a>
					</span>
				</button>		
		</div>
		<div class="rating">
			<i class="rating__star far fa-star"></i>
			<i class="rating__star far fa-star"></i>
			<i class="rating__star far fa-star"></i>
			<i class="rating__star far fa-star"></i>
			<i class="rating__star far fa-star"></i>
		</div>
		<script src="rating.js"></script>
	</div>
	<br>
	<div class="rectangle">
		<div class="title">
			LOTR - Powrót Króla
		</div>
		<div class="photo">	
			<img src="lotr.jpg" alt="LOTR - Powrót Króla" width=194px height=259px>
		</div>
		<div class="description">
			<p>Zwieńczenie filmowej trylogii wg powieści Tolkiena. Aragorn jednoczy siły Śródziemia, szykując się do bitwy, która ma odwrócić uwagę Saurona od podążających w kierunku Góry Przeznaczenia hobbitów...</p>
				<button class="pushable">
					<span class="front">
						<a href="https://www.filmweb.pl/film/W%C5%82adca+Pier%C5%9Bcieni%3A+Powr%C3%B3t+kr%C3%B3la-2003-11841" target="_blank">Czytaj więcej</a>
					</span>
				</button>		
		</div>
	<br>
	<div class="rating">
		<i class="rating__star far fa-star"></i>
		<i class="rating__star far fa-star"></i>
		<i class="rating__star far fa-star"></i>
		<i class="rating__star far fa-star"></i>
		<i class="rating__star far fa-star"></i>
	</div>
	<script src="rating.js"></script>
</div>	
<div class="comments"></div>

<script>
const comments_page_id = 4; 
fetch("comments.php?page_id=" + comments_page_id).then(response => response.text()).then(data => {
	document.querySelector(".comments").innerHTML = data;
	document.querySelectorAll(".comments .write_comment_btn, .comments .reply_comment_btn").forEach(element => {
		element.onclick = event => {
			event.preventDefault();
			document.querySelectorAll(".comments .write_comment").forEach(element => element.style.display = 'none');
			document.querySelector("div[data-comment-id='" + element.getAttribute("data-comment-id") + "']").style.display = 'block';
			document.querySelector("div[data-comment-id='" + element.getAttribute("data-comment-id") + "'] input[name='name']").focus();
		};
	});
	document.querySelectorAll(".comments .write_comment form").forEach(element => {
		element.onsubmit = event => {
			event.preventDefault();
			fetch("comments.php?page_id=" + comments_page_id, {
				method: 'POST',
				body: new FormData(element)
			}).then(response => response.text()).then(data => {
				element.parentElement.innerHTML = data;
			});
		};
	});
});
</script>

</BODY>
</HTML>