<HTML>
<HEAD>
<meta charset="UTF-8"/>
 <TITLE>Moja filmoteka</TITLE>
 <LINK REL=stylesheet TYPE="text/css" HREF="style.css">
 <link rel="stylesheet" type="text/css" href="comments.css">
 <link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
</HEAD>
<BODY>
	<CENTER>
		<TABLE BORDER="1">
			<TR HEIGHT="30">
				<TH CLASS="purple" WIDTH="120"><a href="index.php">Główna</A></TH>
				<TH CLASS="purple" WIDTH="120"><a href="horrory1.html">Horrory</A></TH>
				<TH CLASS="purple" WIDTH="120"><a href="komedie1.html">Komedie</A></TH>
				<TH CLASS="purple" WIDTH="120"><a href="thrillery1.html">Thrillery</A></TH>
				<TH CLASS="purple" WIDTH="120"><a href="historyczne1.html">Historyczne</A></TH>
				<TH CLASS="purple" WIDTH="120"><a href="fantasy1.html">Fantasy</A></TH>
				<TH CLASS="purple" WIDTH="120"><a href="sci-fi1.html">Sci-Fi</A></TH>
			</TR>
		</TABLE>
	</CENTER>
<div id="container">
	<p>Oto zestawienie kilku dobrych filmów historycznych. Dzięki nim poznasz ciekawe zdarzenia z przeszłości. Nasza lista:</p>
	
	
	<div class="rectangle">
		<div class="title">
			Wyrok w Norymberdze
		</div>
		<div class="photo">
			<img src="wyrok_w_norymberdze.jpg" alt="Wyrok w Norymberdze" width=194px height=259px	>
		</div>
		<div class="description">
			<p>Ostatni z procesów przeciwko zbrodniarzom wojennym, prowadzony w 1948 roku. Tradycyjny dramat sądowy, który skupia się na bohaterach, będących uczestnikami wydarzeń historycznych, a zwłaszcza na ich postawach, prowadzących do „faszyzacji życia”...</p>
				<button class="pushable">
					<span class="front">
						<a href="https://www.filmweb.pl/film/Wyrok+w+Norymberdze-1961-35820" target="_blank">Czytaj więcej</a>
					</span>
				</button>		
		</div>
		<div class="rating">
			<i class="rating__star far fa-star"></i>
			<i class="rating__star far fa-star"></i>
			<i class="rating__star far fa-star"></i>
			<i class="rating__star far fa-star"></i>
			<i class="rating__star far fa-star"></i>
		</div>
		<script src="rating.js"></script>
	</div>
	<br>
	<div class="rectangle">
		<div class="title">
			Zagadka Kaspra Hausera
		</div>
		<div class="photo">
			<img src="zagadka_kaspra_hausera.jpg" alt="Zagadka Kaspra Hausera" width=194px height=259px>
		</div>
		<div class="description">
			<p>W 1828 roku w Norymberdze pojawia się włóczęga, który nie potrafi nawiązać żadnego kontaktu z otoczeniem. Nie potrafi sprostać najprostszym nawet czynnościom życiowym. Otoczony opieką przez parę naukowców, staje się ogólnoświatową sensacją...</p>
				<button class="pushable">
					<span class="front">
						<a href="https://www.filmweb.pl/film/Zagadka+Kaspara+Hausera-1974-31921" target="_blank">Czytaj więcej</a>
					</span>
				</button>		
		</div>
	<br>
	<div class="rating">
		<i class="rating__star far fa-star"></i>
		<i class="rating__star far fa-star"></i>
		<i class="rating__star far fa-star"></i>
		<i class="rating__star far fa-star"></i>
		<i class="rating__star far fa-star"></i>
	</div>
	<script src="rating.js"></script>
</div>	
<div class="comments"></div>

<script>
const comments_page_id = 5; 
fetch("comments.php?page_id=" + comments_page_id).then(response => response.text()).then(data => {
	document.querySelector(".comments").innerHTML = data;
	document.querySelectorAll(".comments .write_comment_btn, .comments .reply_comment_btn").forEach(element => {
		element.onclick = event => {
			event.preventDefault();
			document.querySelectorAll(".comments .write_comment").forEach(element => element.style.display = 'none');
			document.querySelector("div[data-comment-id='" + element.getAttribute("data-comment-id") + "']").style.display = 'block';
			document.querySelector("div[data-comment-id='" + element.getAttribute("data-comment-id") + "'] input[name='name']").focus();
		};
	});
	document.querySelectorAll(".comments .write_comment form").forEach(element => {
		element.onsubmit = event => {
			event.preventDefault();
			fetch("comments.php?page_id=" + comments_page_id, {
				method: 'POST',
				body: new FormData(element)
			}).then(response => response.text()).then(data => {
				element.parentElement.innerHTML = data;
			});
		};
	});
});
</script>

</BODY>
</HTML>